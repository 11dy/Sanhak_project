

{% extends 'base.html' %}

{% block content %}

<!--인식작업 요청시 나오는 모달화면-->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">인식 작업 요청</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

        <!--모달창 내부 작업 설정창 -->
      <div class="modal-body">
 <ul class="nav nav-tabs">
  <li class="nav-item">
    <a class="nav-link active" data-toggle="tab" href="#qwe">Object storage 에서 선택</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" data-toggle="tab" href="#asd">파일 업로드</a>
  </li>
</ul>
<div class="tab-content">
  <div class="tab-pane fade show active" id="qwe">
      <div class="modalTop">
          <div class="modalTopLeft">
              <span>결과 파일 위치</span>
              <span>언어 설정</span>
              <span>화자분리 기능 사용</span>
          </div>
          <div class="modalTopRight">
              <div class="directorySelect">
                  <input type="file" webkitdirectory id="directoryUpload">
              </div>
              <div class="languageSelect">
                 <button class="dropDownBtn" onclick="dpLanguage()">
                     언어선택
                 </button>
                  <ul style="display: none"; id="dropContents">
                      <li>한국어</li>
                      <li>English</li>
                  </ul>

              </div>
              <div class="divideNarrator">

              </div>
          </div>
      </div>
      <div class="selectFile">
          <h4>대상 파일 선택</h4>
          <div></div>
      </div>
  </div>
  <div class="tab-pane fade" id="asd">
  </div>
</div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
        <button type="button" class="btn btn-primary">요청시작</button>
      </div>
    </div>
  </div>
</div>




<div class="container my-3">
<h2> 작업목록 </h2>
<table>
<tbody>
    <th>
        <button type="button" class="btn btn-dark btn-lg btn-block" data-bs-toggle="modal" data-bs-target="#exampleModal" data-bs-whatever="@mdo">
        인식 작업 요청
    </button>
    </th>

    <th>
        <button type="button" class="btn btn-dark btn-lg btn-block"
    onclick="location.href='/service/request_add'">
        삭제
    </button>
    </th>
</tbody>
</table>
</div>



<div class ="container my-3">
    <form action="" method="post">
    <table class="table">
        <thead>
        <tr class="table-dark">
            <th><input id="allCheck" type="checkbox"></th>
            <th>작업 대상</th>
            <th>작업 현황</th>
            <th>요청 방법</th>
            <th>결과 파일 위치</th>
            <th>작업 시작일(UTC+09:00)</th>
            <th>작업 종료일(UTC:09:00)</th>
            <th>인식 결과 편집</th>
        </tr>
        </thead>
        <tbody>
        {% if work_list %}
        {% for work in work_list %}
        <tr>
            <td><input id ="selected" type="checkbox" name="selected" value="{{ work.id }}"></td>
            <td>{{ work.file_name }}</td>
            <td>{{ work.status }}</td>
            <td>{{ work.request_method }}</td>
            <td>{{ work.result_path }}</td>
            <td>{{ work.start_time }}</td>
            <td>{{ work.end_time }}</td>
            <td><a class="btn btn-secondary" onclick="location.href='/service/edit_file'" role="button">인식 결과 편집</a></td>
        </tr>
        {% endfor %}
        {% else %}
        <tr>
            <td colspan="3">요청 작업이 없습니다.</td>
        </tr>
        {% endif %}
        </tbody>
    </table>
    </form>
</div>
{% endblock %}